<!DOCTYPE html>
<html>
<head>
  <title>SmartQ Campus - Canteen</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>Canteen Dashboard</h1>
  <button onclick="goBack()">Back to Student</button>
</header>

<section>
  <h2>Current Order</h2>
  <div id="orderCard">
    <p>No active order.</p>
  </div>
  <button onclick="markReady()">Mark as Ready</button>
</section>

<script>
function loadOrder() {
  const data = localStorage.getItem("currentOrder");
  if(!data) return;

  const order = JSON.parse(data);

  let html = `
    <p><strong>Order ID:</strong> ${order.id}</p>
    <p><strong>Total:</strong> â‚¹${order.total}</p>
    <p><strong>Status:</strong> ${order.status}</p>
  `;

  document.getElementById("orderCard").innerHTML = html;
}

function markReady() {
  const data = localStorage.getItem("currentOrder");
  if(!data) return;

  const order = JSON.parse(data);
  order.status = "Order Ready";
  localStorage.setItem("currentOrder", JSON.stringify(order));

  loadOrder();
}

function goBack() {
  window.location.href = "app.html";
}

window.onload = loadOrder;
</script>

</body>
</html>
